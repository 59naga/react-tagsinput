<!DOCTYPE html>
<html>
<head>
  <title></title>
  <meta charset="utf-8" />
  <link href="react-tagsinput.css" rel="stylesheet" type="text/css" />
  <style>
  h1 {
    font-family: sans-serif;
  }

  pre {
    background-color: #fff;
    padding: 10px;
  }

  * {
    margin: 0;
    padding: 0;
    border: 0;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
  }

  body {
    background: #eeefef;
  }

  #content {
    width: 80%;
    margin: 100px auto;
  }

  .tagscomponent {
    margin-top: 10px;
    margin-bottom: 10px;
  }

  .react-tagsinput {
    min-height: 53px;
  }

  .president {
    cursor: pointer;
    background-color: #337ab7;
    color: #fff;
    border-radius: 4px;
    padding: 2px;
    font-family: sans-serif;
  }
  </style>
</head>
<body>
<div id="content"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.13.1/JSXTransformer.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.13.1/react-with-addons.js"></script>
<script src="react-tagsinput.js"></script>
<script>
var presidents = [
  "George Washington",
  "John Adams",
  "Thomas Jefferson",
  "James Madison",
  "James Monroe",
  "John Quincy Adams",
  "Andrew Jackson",
  "Martin van Buren",
  "William H. Harrison",
  "John Tyler",
  "James K. Polk",
  "Zachary Taylor",
  "Millard Fillmore",
  "Franklin Pierce",
  "James Buchanan",
  "Abraham Lincoln",
  "Andrew Johnson",
  "Ulysses S. Grant",
  "Rutherford Hayes",
  "James Garfield",
  "Chester Arthur",
  "Benjamin Harrison",
  "Grover Cleveland",
  "William McKinley",
  "Theodore Roosevelt",
  "William Taft",
  "Woodrow Wilson",
  "Warren Harding",
  "Calvin Coolidge",
  "Herbert C. Hoover",
  "Franklin Delano Roosevelt",
  "Harry S Truman",
  "Dwight David Eisenhower",
  "John Fitzgerald Kennedy",
  "Lyndon Baines Johnson",
  "Richard Milhous Nixon",
  "Gerald R. Ford",
  "James Earl Carter",
  "Ronald Wilson Reagan",
  "George H. W. Bush",
  "Bill Jefferson Clinton",
  "George W. Bush",
  "Barack Obama"
];


</script>
<script id="source">
var TagsComponent = React.createClass({
  displayName: "TagsComponent",

  mixins: [React.addons.LinkedStateMixin],

  getInitialState: function () {
    return {
      tags: ["John Tyler", "James K. Polk"]
      , completions: []
    };
  },

  complete: function (value) {
    value = value.toLowerCase();

    if (value === "") {
      return this.setState({
        completions: []
      });
    }

    this.setState({
      completions: presidents.filter(function (comp) {
        var norm = comp.toLowerCase();
        return norm.substr(0, value.length) == value && this.state.tags.indexOf(comp) == -1;
      }.bind(this))
    });
  },

  transform: function (tag) {
    if (this.state.completions.length === 1) {
      return this.state.completions[0];
    }
  },

  validate: function (tag) {
    return this.state.completions.indexOf(tag) > -1;
  },

  change: function (tags) {
    this.setState({
      tags: tags
      , completions: []
    });
  },

  render: function () {
    var completionNodes = this.state.completions.map(function (comp) {
      var add = function (e) {
        this.refs.tags.addTag(comp);
      }.bind(this);

      return React.createElement("span", {},React.createElement("a", { className: "president", onClick: add }, comp)," ");
    }.bind(this));

    var tagsInputProps = {
      ref: "tags",
      value: this.state.tags,
      onChange: this.change,
      onChangeInput: this.complete,
      transform: this.transform,
      validate: this.validate,
      addOnBlur: false,
      placeholder: "President"
    };

    return (
      React.createElement("div", { className: "tagscomponent" },
        React.createElement(ReactTagsInput, tagsInputProps),
        React.createElement("div", { style: { marginTop: "10px" } }, completionNodes)
      )
    );
  }
});
</script>
<script type="text/jsx">
/** @jsx React.DOM */

var App = React.createClass({
  render: function () {
    var source = document.getElementById("source").textContent;

    return (
      <div>
        <h1>Input some US presidents</h1>
        <TagsComponent />
        <h2>Source</h2>
        <pre>{source}</pre>
      </div>
    );
  }
});

window.onload = function () {
  React.render(
    <App />
    , document.getElementById("content")
  );
};
</script>
<a href="https://github.com/olahol/react-tagsinput"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://camo.githubusercontent.com/82b228a3648bf44fc1163ef44c62fcc60081495e/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_left_red_aa0000.png"></a>
</body>
</html>
